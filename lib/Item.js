// Generated by CoffeeScript 1.4.0
var Item, util;

util = require('./util');

Item = (function() {
  var doc;

  doc = document;

  function Item(el) {
    var svg;
    this.el = el;
    this.svg = svg = !!el.ownerSVGElement || el.tagName === 'svg';
    this.svgRoot = svg ? el.ownerSVGElement || el : null;
  }

  Item.prototype._svgFrag = function(html) {
    return util.createFragment(this.svgRoot, html);
  };

  Item.prototype.getAttr = function(name) {
    return this.el.getAttribute(name);
  };

  Item.prototype.setAttr = function(name, val) {
    this.el.setAttribute(name, val);
  };

  Item.prototype.getProp = function(name) {
    return this.el[name];
  };

  Item.prototype.setProp = function(name, val) {
    this.el[name] = val;
  };

  Item.prototype.getHtml = function() {
    return this.el.innerHTML;
  };

  Item.prototype.setHtml = function(html) {
    var child, children, el;
    el = this.el;
    if (this.svg) {
      el = this.el;
      children = el.childNodes;
      while (child = el.firstChild) {
        el.removeChild(child);
      }
      this.append(html);
    } else {
      el.innerHTML = html;
    }
  };

  Item.prototype.append = function(html) {
    var el;
    el = this.el;
    if (this.svg) {
      el.appendChild(this._svgFrag(html));
    } else {
      el.insertAdjacentHTML('beforeend', html);
    }
  };

  Item.prototype.insert = function(html, index) {
    var before, el;
    el = this.el;
    before = el.childNodes[index];
    if (before) {
      if (this.svg) {
        el.insertBefore(this._svgFrag(html), before);
      } else {
        before.insertAdjacentHTML('beforebegin', html);
      }
    } else {
      this.append(html);
    }
  };

  Item.prototype.remove = function(index) {
    util.rmChild(this.el, index);
  };

  Item.prototype.move = function(from, to, howMany) {
    if (howMany == null) {
      howMany = 1;
    }
    util.move(this.el, from, to >= from ? to + howMany : to, howMany);
  };

  return Item;

})();

require('./Item-attr-shim')(Item);

module.exports = Item;
